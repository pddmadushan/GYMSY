<Window x:Class="WpfApplication2.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="MainWindow" Height="Auto" Width="Auto" WindowStyle="None" AllowsTransparency="True" WindowState="Maximized" WindowStartupLocation="CenterScreen" ResizeMode="NoResize" 
        Icon="Image/mcIcon.png" Unloaded="Window_Unloaded" >
    <Window.Resources>
        <Style x:Key="MyWaterMarkStyle" TargetType="{x:Type TextBox}">
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type TextBox}">
                        <Grid>
                            <Border Background="White" BorderBrush="#FF7D8683" BorderThickness="1"/>
                            <ScrollViewer x:Name="PART_ContentHost" Margin="5,0,0,0" VerticalAlignment="Center" />
                            <Label Margin="5,0,0,0" x:Name="WaterMarkLabel" Content="{TemplateBinding Tag}" VerticalAlignment="Center"
                               Visibility="Collapsed" Foreground="Gray" FontFamily="Arial"/>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <MultiTrigger>
                                <MultiTrigger.Conditions>
                                    <Condition Property="Text" Value=""/>
                                </MultiTrigger.Conditions>
                                <Setter Property="Visibility" TargetName="WaterMarkLabel" Value="Visible"/>
                            </MultiTrigger>
                            <Trigger Property="IsEnabled" Value="False">
                                <Setter Property="Foreground" Value="DimGray"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>


    </Window.Resources>
    <Window.Background>
        <ImageBrush  ImageSource="image/imgMCBacground.jpg" />
    </Window.Background>

    <Grid Name="Grid1">
        <Grid.ColumnDefinitions >
            <ColumnDefinition Width="50" />
            <ColumnDefinition Width="210" />
            <ColumnDefinition Width="5" />
            <ColumnDefinition Width="20" />
            <ColumnDefinition Width="420" />
            <ColumnDefinition Width="*" />
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="30" />
            <RowDefinition Height="30" />
            <RowDefinition Height="30" />
            <RowDefinition Height="50" />
            <RowDefinition Height="*"  />
            <RowDefinition Height="10" />
        </Grid.RowDefinitions>
        <Button Name="btnLogin" Content="LOGIN"  Grid.Column="1" Grid.Row="2" HorizontalAlignment="Right"  VerticalAlignment="Bottom" Width="70" Click="Button_Click" Background="{x:Null}" FontWeight="Bold" Margin="0,0,0.2,23.8" Grid.RowSpan="2">
            <Button.Foreground>
                <SolidColorBrush Color="Black" Opacity="0.75"/>
            </Button.Foreground>
        </Button>
        <Button  Grid.Column="5" Content="" Width="20" HorizontalAlignment="Right" Click="Button_Click_1" ToolTip="Close" Margin="0,0,5,5" >
            <Button.Background>
                <ImageBrush ImageSource="Image/imgClose.png"/>
            </Button.Background>
        </Button>
        <!--<Label Grid.Column="0" Grid.ColumnSpan="3" Grid.Row="4" Content="LINDSIS ENGLISH INSTITUTE" HorizontalAlignment="Left" VerticalAlignment="Bottom" FontSize="25" FontWeight="Bold" Opacity="0.7" Margin="50,0,0,0" Foreground="White" Background="{x:Null}"   />
        <Label Grid.Column="0" Grid.ColumnSpan="3" Grid.Row="5" Content="The Simplest Way to the Language" Foreground="#FFCEDFF3" FontSize="16" Opacity="0.8" Margin="50,0,0,0" />-->
        <TextBox Name="txtUserName" Grid.Column="0" Grid.ColumnSpan="2" HorizontalAlignment="Left" Height="23"  Grid.Row="1" TextWrapping="Wrap" VerticalAlignment="Top" Width="210"  Opacity="0.60" Margin="50,0,0,0" Style="{StaticResource MyWaterMarkStyle}" Tag="Username" />
        <PasswordBox Name="txtPassword" Grid.Column="0" Grid.ColumnSpan="2" HorizontalAlignment="Left" Height="23"  Grid.Row="2" VerticalAlignment="Top" Width="210"  Opacity="0.60" Margin="50,0,0,0" Tag="Type Password" Password="^%!@#%$" GotFocus="PasswordBox_GotFocus" LostFocus="txtPassword_LostFocus"  />

        <Image Name="errorValidator" Source="Image/imgExclamation.png" Width="15" Height="15" Margin="5,0,0,0" Visibility="Hidden" HorizontalAlignment="Left"/>


        <DataGrid Grid.Column="1" Grid.Row="4" Grid.ColumnSpan="4" Name="grdStudentAttendance" AutoGenerateColumns="False"  CanUserAddRows="False" RowHeaderWidth="30" 
                         CanUserDeleteRows="False" EnableRowVirtualization = "True" ScrollViewer.CanContentScroll="False"  LoadingRow="DataGrid_LoadingRow" Visibility="Hidden">
            <DataGrid.Columns>
                <DataGridTextColumn Header="CLS_ID" Binding="{Binding Path=CLS_ID}" IsReadOnly="True" Visibility="Hidden" />
                <DataGridTextColumn Header="STD_GENDER" Binding="{Binding Path=STD_GENDER}" IsReadOnly="True" Visibility="Hidden" />
                <DataGridTextColumn Header="STD_DATEOFBIRTH" Binding="{Binding Path=STD_DATEOFBIRTH}" IsReadOnly="True" Visibility="Hidden" />
                <DataGridTextColumn Header="STD_EMAIL" Binding="{Binding Path=STD_EMAIL}" IsReadOnly="True" Visibility="Hidden" />
                <DataGridTextColumn Header="STD_ADDRESS" Binding="{Binding Path=STD_ADDRESS}" IsReadOnly="True" Visibility="Hidden" />
                <DataGridTextColumn Header="STD_COMMENT" Binding="{Binding Path=STD_COMMENT}" IsReadOnly="True" Visibility="Hidden" />
                <DataGridTextColumn Header="STD_TEMP_NOTE" Binding="{Binding Path=STD_TEMP_NOTE}" IsReadOnly="True" Visibility="Hidden" />
                <DataGridTextColumn Header="ID" Binding="{Binding Path=STD_ID}" IsReadOnly="True" Width="50" Visibility="Hidden"/>
                <DataGridTextColumn Header="Initials" Binding="{Binding Path=STD_INITIALS}" IsReadOnly="True" Width="60" Visibility="Hidden" />
                <DataGridTextColumn Header="Surname" Binding="{Binding Path=STD_SURNAME}" IsReadOnly="True" Width="100" Visibility="Hidden"/>
                <DataGridTextColumn Header="Full Name" Binding="{Binding Path=STD_FULL_NAME}" IsReadOnly="True" Width="250" Visibility="Hidden"/>
                <DataGridTextColumn Header="Join Date" Binding="{Binding Path=STD_JOIN_DATE , StringFormat={}{0:dd/MM/yyyy}}" IsReadOnly="True" Width="80"  Visibility="Hidden" />
                <DataGridTextColumn Header="NIC" Binding="{Binding Path= STD_NIC}" IsReadOnly="True" Width="100" Visibility="Hidden"/>
                <DataGridTextColumn Header="Class fee" Binding="{Binding Path=STD_CLASS_FEE}" IsReadOnly="True" Width="70" Visibility="Hidden" />
                <DataGridCheckBoxColumn Header="Active" Binding="{Binding Path=STD_ACTIVE_FLG}" IsReadOnly="True" Width="50" Visibility="Hidden"/>

                <DataGridTextColumn Header="Class Date" Binding="{Binding Path=CLS_REC_DATE}" IsReadOnly="True" Visibility="Hidden" />
                <DataGridTextColumn Header="ID" Binding="{Binding Path=STD_ID}" IsReadOnly="True"  Width="50" Visibility="Hidden"  />
                <DataGridTextColumn Header="ID" Binding="{Binding Path=ATT_ID}" IsReadOnly="True"  Width="100" />
                <DataGridTextColumn Header="Name" IsReadOnly="True" Width="130" SortMemberPath="STD_INITIALS"  >
                    <DataGridTextColumn.Binding>
                        <MultiBinding StringFormat="{}{0},{1}">
                            <Binding Path="STD_INITIALS" />
                            <Binding Path="STD_SURNAME" />
                        </MultiBinding>
                    </DataGridTextColumn.Binding>
                </DataGridTextColumn>
                <DataGridTextColumn Header="Last Check In" Binding="{Binding Path=CHECKTIME, StringFormat={}{0:dd/MM/yyyy hh:mm tt}}" IsReadOnly="True"  Width="150" />
                <DataGridTemplateColumn  Width="20" >
                    <DataGridTemplateColumn.CellStyle >
                        <Style TargetType="DataGridCell">
                            <Style.Triggers>
                                <DataTrigger Binding="{Binding STD_PAID_STATUS}" Value="0">
                                    <Setter Property="Background" Value="White" />
                                </DataTrigger>
                                <DataTrigger Binding="{Binding STD_PAID_STATUS}" Value="1">
                                    <Setter Property="Background" Value="Red" />
                                </DataTrigger>
                            </Style.Triggers>
                        </Style>
                    </DataGridTemplateColumn.CellStyle>
                </DataGridTemplateColumn>
            </DataGrid.Columns>
        </DataGrid>
        <Grid Name="Grid2"  Grid.Column="4" Grid.Row="1" Grid.RowSpan="3">
            <Grid.ColumnDefinitions >
                <ColumnDefinition Width="5" />
                <ColumnDefinition Width="*" />
            </Grid.ColumnDefinitions>
            <Grid.RowDefinitions>
                <RowDefinition Height="20"  />
                <RowDefinition Height="20"  />
                <RowDefinition Height="20"  />
                <RowDefinition Height="20"  />
                <RowDefinition Height="*"  />
            </Grid.RowDefinitions>
            <Label Name="lblMasg" Grid.Column="1" Grid.Row="0" FontSize="10"  />
            <Label Name="lblMasg_2" Grid.Column="1" Grid.Row="1" FontSize="10"  />
            <ProgressBar Name="pbStatus" Minimum="0" Maximum="100" Grid.Column="1" Grid.Row="3" IsIndeterminate="True" ></ProgressBar>
            <Label Name="lblError" Grid.Column="1" Grid.Row="2" Grid.ColumnSpan="2" Grid.RowSpan="2"  Foreground="Red" FontSize="10" >
            </Label>
        </Grid>
        <Button Name="btnConnect" Content="SYNCHRONIZE ATTENDANCE"  Grid.Column="1" Grid.Row="3" HorizontalAlignment="Left"  VerticalAlignment="Top"   Click="Button_Click_2" Background="{x:Null}" FontWeight="Bold"  >
            <Button.Foreground>
                <SolidColorBrush Color="Black" Opacity="0.75"/>
            </Button.Foreground>
        </Button>
        <Button Name="btnSetTime1" Content="SET TIME-DEVICE 1"  Grid.Column="1" Grid.Row="3" HorizontalAlignment="Left"  VerticalAlignment="Top"  Background="{x:Null}" FontWeight="Bold" Grid.ColumnSpan="3" Margin="0.4,30.2,0,0" Grid.RowSpan="2" Width="230" Click="btnSetTime1_Click" Visibility="Hidden" >
            <Button.Foreground>
                <SolidColorBrush Color="Purple" Opacity="0.75"/>
            </Button.Foreground>
        </Button>
        <Button Name="btnSetTime2" Content="SET TIME-DEVICE 2"  Grid.Column="1" Grid.Row="3" HorizontalAlignment="Left"  VerticalAlignment="Top"  Background="{x:Null}" FontWeight="Bold" Grid.ColumnSpan="3" Margin="0.4,30.2,0,0" Grid.RowSpan="2" Width="230" Click="btnSetTime2_Click" Visibility="Hidden">
            <Button.Foreground>
                <SolidColorBrush Color="Purple" Opacity="0.75"/>
            </Button.Foreground>
        </Button>
        <Button Name="btnUpdateLicenseKey" Content="UPDATE LICENSE KEY"  Grid.Column="1" Grid.Row="3" HorizontalAlignment="Right"  VerticalAlignment="Top"  Background="{x:Null}" FontWeight="Bold" Grid.ColumnSpan="2" Margin="0.4,30.2,0,0" Grid.RowSpan="2" Width="160"  Visibility="Hidden" Click="btnUpdateLicenseKey_Click">
            <Button.Foreground>
                <SolidColorBrush Color="YellowGreen"/>
            </Button.Foreground>
        </Button>
        <Button Name="btnKeyGen" Content="KY"  Grid.Column="1" Grid.Row="3" HorizontalAlignment="Left"  VerticalAlignment="Top"  Background="{x:Null}" FontWeight="Bold" Margin="0,30,0,0" Grid.RowSpan="2" Width="50"  Visibility="Hidden" Click="btnKeyGen_Click">
            <Button.Foreground>
                <SolidColorBrush Color="YellowGreen"/>
            </Button.Foreground>
        </Button>
        <TextBox Name="txtLicenseKey" Grid.Column="4" HorizontalAlignment="Left"  VerticalAlignment="Top" Height="20" Margin="0.4,30.2,0,0" Width="420" Grid.Row="3"  Visibility="Hidden"/>
    </Grid>
</Window>
